"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9457],{9457:(S,_,s)=>{s.r(_),s.d(_,{PacientesPageModule:()=>P});var T=s(4466),n=s(5649),g=s(9808),i=s(4182),e=s(2096),p=s(9019),v=s(520);let f=(()=>{class t{constructor(o){this._httpClient=o}crearMascota(o){return this._httpClient.post(`${p.N.API}/mascotas`,o)}obtenerMascotasPorDueno(o){return this._httpClient.get(`${p.N.API}/mascotas/dueno/${o}`)}obtenerMascotaPorId(o){return this._httpClient.get(`${p.N.API}/mascotas/${o}`)}actualizarMascota(o,a){return this._httpClient.put(`${p.N.API}/mascotas/${o}`,a)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(v.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),A=(()=>{class t{constructor(o){this._mascotasService=o}resolve(o,a){if(o.params.mascotaId)return console.log("resolver"),this._mascotasService.obtenerMascotaPorId(o.params.mascotaId)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(f))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),N=(()=>{class t{constructor(o){this._mascotasService=o}resolve(o,a){if(o.params.duenoId)return this._mascotasService.obtenerMascotasPorDueno(o.params.duenoId)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(f))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=s(2340);let C=(()=>{class t{constructor(o){this._httpClient=o}crearDueno(o){return this._httpClient.post(`${h.N.API}/duenos`,o)}getDueno(o){return this._httpClient.get(`${h.N.API}/duenos/${o}`)}getDuenos(){return this._httpClient.get(`${h.N.API}/duenos`)}actualizarDueno(o,a){return this._httpClient.put(`${h.N.API}/duenos/${o}`,a)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(v.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),d=(()=>{class t{constructor(o){this._duenosService=o}resolve(o,a){return o.params.duenoId?this._duenosService.getDueno(o.params.duenoId):this._duenosService.getDuenos()}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(C))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=s(9800),Z=s(655),D=s(7330);let b=(()=>{class t{constructor(o,a,c,l,m){this._camaraService=o,this._navController=a,this._fromBuilder=c,this._duenosService=l,this._activatedRoute=m,this.isUpdate=!1}ngOnInit(){this.dueno=this._activatedRoute.snapshot.data.dueno,this.formCrearDueno=this._fromBuilder.group({nombres:new i.NI(""),identificacion:new i.NI(""),telefono:new i.NI(""),imagen:new i.NI(void 0)}),this._activatedRoute.snapshot.data.dueno&&(this.isUpdate=!0,this.formCrearDueno.patchValue(this._activatedRoute.snapshot.data.dueno))}crearDueno(){this.isUpdate?this._duenosService.actualizarDueno(this.dueno.id,this.formCrearDueno.value).subscribe(o=>{this._navController.navigateForward(`/pacientes/detalle-dueno/${this.dueno.id}`)}):this._duenosService.crearDueno(this.formCrearDueno.value).subscribe(o=>{this._navController.navigateForward(`pacientes/detalle-dueno/${o.id}`)})}tomarFoto(){return(0,Z.mG)(this,void 0,void 0,function*(){const o=yield this._camaraService.takePhoto();o&&this.imagen.setValue(`data:image/${o.format};base64,${o.base64String}`)})}get nombres(){return this.formCrearDueno.get("nombres")}get identificacion(){return this.formCrearDueno.get("identificacion")}get telefono(){return this.formCrearDueno.get("telefono")}get imagen(){return this.formCrearDueno.get("imagen")}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(D.Y),e.Y36(n.SH),e.Y36(i.qu),e.Y36(C),e.Y36(u.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-crear-dueno"]],decls:19,vars:2,consts:[[3,"formGroup","ngSubmit"],["size","12",1,"flex--centered"],["button","",1,"image__profile",3,"click"],[1,"image__profile",3,"src"],["size","12"],["type","text","placeholder","Nombres","formControlName","nombres"],["type","text","placeholder","Identificaci\xf3n","formControlName","identificacion"],["type","text","placeholder","Tel\xe9fono","formControlName","telefono"],["type","submit","color","secondary","shape","round","mode","ios"]],template:function(o,a){1&o&&(e.TgZ(0,"ion-content")(1,"form",0),e.NdJ("ngSubmit",function(){return a.crearDueno()}),e.TgZ(2,"ion-grid")(3,"ion-row")(4,"ion-col",1)(5,"ion-card",2),e.NdJ("click",function(){return a.tomarFoto()}),e._UZ(6,"img",3),e.qZA()()(),e.TgZ(7,"ion-row")(8,"ion-col",4)(9,"ion-card"),e._UZ(10,"ion-input",5),e.qZA(),e.TgZ(11,"ion-card"),e._UZ(12,"ion-input",6),e.qZA(),e.TgZ(13,"ion-card"),e._UZ(14,"ion-input",7),e.qZA()()(),e.TgZ(15,"ion-row")(16,"ion-col",1)(17,"ion-button",8),e._uU(18," Guardar "),e.qZA()()()()()()),2&o&&(e.xp6(1),e.Q6J("formGroup",a.formCrearDueno),e.xp6(5),e.Q6J("src",a.imagen.value?a.imagen.value:"assets/img/camara.png",e.LSH))},directives:[n.W2,i._Y,i.JL,i.sg,n.jY,n.Nd,n.wI,n.PM,n.pK,n.j9,i.JJ,i.u,n.YG],styles:[""]}),t})(),M=(()=>{class t{constructor(o,a,c,l,m){this._camaraService=o,this._navController=a,this._formBuilder=c,this._mascotasService=l,this._activatedRoute=m,this.isUpdate=!1}ngOnInit(){this.dueno=this._activatedRoute.snapshot.data.dueno,this.formCrearMascota=this._formBuilder.group({nombres:new i.NI(""),raza:new i.NI(""),sexo:new i.NI(""),fechaNacimiento:new i.NI(""),imagen:new i.NI(void 0),duenoId:new i.NI(this.dueno.id)}),this._activatedRoute.snapshot.data.mascota&&(this.isUpdate=!0,this.formCrearMascota.patchValue(this._activatedRoute.snapshot.data.mascota))}tomarFoto(){return(0,Z.mG)(this,void 0,void 0,function*(){const o=yield this._camaraService.takePhoto();this.formCrearMascota.get("imagen").setValue(`data:image/${o.format};base64,${o.base64String}`)})}crearMascota(){this.isUpdate?this._mascotasService.actualizarMascota(this._activatedRoute.snapshot.data.mascota.id,this.formCrearMascota.value).subscribe(a=>{this._navController.navigateForward(`/pacientes/detalle-dueno/${this.dueno.id}`)}):this._mascotasService.crearMascota(this.formCrearMascota.value).subscribe(o=>{console.log(o),this._navController.navigateForward(`pacientes/detalle-dueno/${this.dueno.id}`)})}get nombres(){return this.formCrearMascota.get("nombres")}get raza(){return this.formCrearMascota.get("raza")}get sexo(){return this.formCrearMascota.get("sexo")}get fechaNacimiento(){return this.formCrearMascota.get("fechaNacimiento")}get imagen(){return this.formCrearMascota.get("imagen")}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(D.Y),e.Y36(n.SH),e.Y36(i.qu),e.Y36(f),e.Y36(u.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-crear-mascota"]],decls:27,vars:2,consts:[[3,"formGroup","ngSubmit"],["size","12",1,"flex--centered"],["button","",1,"image__profile",3,"click"],[1,"image__profile",3,"src"],["size","12"],["type","text","placeholder","Nombres","formControlName","nombres"],["type","text","placeholder","Raza","formControlName","raza"],["placeholder","Sexo","formControlName","sexo"],["value","macho"],["value","hembra"],[1,"datepicker--title"],["presentation","date","formControlName","fechaNacimiento"],["color","secondary","shape","round","mode","ios","type","submit"]],template:function(o,a){1&o&&(e.TgZ(0,"ion-content")(1,"form",0),e.NdJ("ngSubmit",function(){return a.crearMascota()}),e.TgZ(2,"ion-grid")(3,"ion-row")(4,"ion-col",1)(5,"ion-card",2),e.NdJ("click",function(){return a.tomarFoto()}),e._UZ(6,"img",3),e.qZA()()(),e.TgZ(7,"ion-row")(8,"ion-col",4)(9,"ion-card"),e._UZ(10,"ion-input",5),e.qZA(),e.TgZ(11,"ion-card"),e._UZ(12,"ion-input",6),e.qZA(),e.TgZ(13,"ion-card")(14,"ion-select",7)(15,"ion-select-option",8),e._uU(16,"Macho"),e.qZA(),e.TgZ(17,"ion-select-option",9),e._uU(18,"Hembra"),e.qZA()()(),e.TgZ(19,"ion-card")(20,"ion-label",10),e._uU(21,"Fecha de nacimiento"),e.qZA(),e._UZ(22,"ion-datetime",11),e.qZA()()(),e.TgZ(23,"ion-row")(24,"ion-col",1)(25,"ion-button",12),e._uU(26," Guardar "),e.qZA()()()()()()),2&o&&(e.xp6(1),e.Q6J("formGroup",a.formCrearMascota),e.xp6(5),e.Q6J("src",a.imagen.value?a.imagen.value:"assets/img/camara.png",e.LSH))},directives:[n.W2,i._Y,i.JL,i.sg,n.jY,n.Nd,n.wI,n.PM,n.pK,n.j9,i.JJ,i.u,n.t9,n.QI,n.n0,n.Q$,n.x4,n.YG],styles:[""]}),t})();function I(t,r){if(1&t){const o=e.EpF();e.TgZ(0,"ion-col",5)(1,"ion-card",6),e.NdJ("click",function(){const l=e.CHM(o).$implicit;return e.oxw().editarMascota(l)}),e._UZ(2,"img",7),e.TgZ(3,"ion-card-content")(4,"ion-grid")(5,"ion-row")(6,"ion-col",8)(7,"ion-label")(8,"b"),e._uU(9,"Nombre: "),e.qZA(),e._uU(10),e.qZA()(),e.TgZ(11,"ion-col",8)(12,"ion-label")(13,"b"),e._uU(14,"Raza: "),e.qZA(),e._uU(15),e.qZA()(),e.TgZ(16,"ion-col",8)(17,"ion-label")(18,"b"),e._uU(19,"Nacimiento: "),e.qZA(),e._uU(20),e.qZA()(),e.TgZ(21,"ion-col",8)(22,"ion-label")(23,"b"),e._uU(24,"Sexo: "),e.qZA(),e._uU(25),e.qZA()()()()()()()}if(2&t){const o=r.$implicit;e.xp6(2),e.Q6J("src",o.imagenUrl,e.LSH),e.xp6(8),e.hij("",o.nombres," "),e.xp6(5),e.hij("",o.raza," "),e.xp6(5),e.hij("",o.fechaNacimiento," "),e.xp6(5),e.hij("",o.sexo," ")}}let U=(()=>{class t{constructor(o,a){this._navController=o,this._activatedRoute=a,this.mascotas=[]}ngOnInit(){this.ionViewWillEnter()}ionViewWillEnter(){this.dueno=this._activatedRoute.snapshot.data.dueno,this.mascotas=this._activatedRoute.snapshot.data.mascotas}crearMascota(){this._navController.navigateForward(`/pacientes/crear-mascota/${this.dueno.id}`)}editarDueno(){this._navController.navigateForward(`pacientes/editar-dueno/${this.dueno.id}`)}editarMascota(o){this._navController.navigateForward(`/pacientes/editar-mascota/${this.dueno.id}/${o.id}`)}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(n.SH),e.Y36(u.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-detalle-dueno"]],decls:32,vars:5,consts:[["size","12",1,"flex--centered"],["onerror","this.src = 'assets/img/profile.jpeg'",1,"image__profile",3,"src"],["name","create",1,"edit--icon",3,"click"],["size","12",4,"ngFor","ngForOf"],["color","secondary","shape","round","mode","ios",3,"click"],["size","12"],["button","",3,"click"],["alt","imagen-mascota",3,"src"],["size","6"]],template:function(o,a){1&o&&(e.TgZ(0,"ion-content")(1,"ion-grid")(2,"ion-row")(3,"ion-col",0),e._UZ(4,"img",1),e.qZA()(),e.TgZ(5,"ion-row")(6,"ion-col",0)(7,"ion-icon",2),e.NdJ("click",function(){return a.editarDueno()}),e.qZA()()(),e.TgZ(8,"ion-row")(9,"ion-col",0)(10,"ion-label")(11,"b"),e._uU(12,"Nombre: "),e.qZA(),e._uU(13),e.qZA()(),e.TgZ(14,"ion-col",0)(15,"ion-label")(16,"b"),e._uU(17,"Identificaci\xf3n: "),e.qZA(),e._uU(18),e.qZA()(),e.TgZ(19,"ion-col",0)(20,"ion-label")(21,"b"),e._uU(22,"Tel\xe9fono: "),e.qZA(),e._uU(23),e.qZA()()(),e.TgZ(24,"ion-row")(25,"ion-grid")(26,"ion-row"),e.YNc(27,I,26,5,"ion-col",3),e.qZA()()(),e.TgZ(28,"ion-row")(29,"ion-col",0)(30,"ion-button",4),e.NdJ("click",function(){return a.crearMascota()}),e._uU(31," Agregar Mascota "),e.qZA()()()()()),2&o&&(e.xp6(4),e.Q6J("src",a.dueno.imagenUrl,e.LSH),e.xp6(9),e.hij("",a.dueno.nombres," "),e.xp6(5),e.hij("",a.dueno.identificacion," "),e.xp6(5),e.hij("",a.dueno.telefono," "),e.xp6(4),e.Q6J("ngForOf",a.mascotas))},directives:[n.W2,n.jY,n.Nd,n.wI,n.gu,n.Q$,g.sg,n.PM,n.FN,n.YG],styles:[""]}),t})();function w(t,r){if(1&t){const o=e.EpF();e.TgZ(0,"ion-col",3)(1,"ion-card",4),e.NdJ("click",function(){const l=e.CHM(o).$implicit;return e.oxw().verDetalle(l)}),e.TgZ(2,"ion-card-header")(3,"ion-card-title"),e._uU(4),e.qZA()(),e.TgZ(5,"ion-card-content")(6,"ion-grid")(7,"ion-row")(8,"ion-col",5),e._UZ(9,"img",6),e.qZA(),e.TgZ(10,"ion-col",7)(11,"ion-grid")(12,"ion-row")(13,"ion-col",8)(14,"ion-label")(15,"b"),e._uU(16,"Identificaci\xf3n: "),e.qZA(),e._uU(17),e.qZA()(),e.TgZ(18,"ion-col",8)(19,"ion-label")(20,"b"),e._uU(21,"Tel\xe9fono: "),e.qZA(),e._uU(22),e.qZA()()()()()()()()()()}if(2&t){const o=r.$implicit;e.xp6(4),e.hij(" ",o.nombres," "),e.xp6(5),e.Q6J("src",o.imagenUrl,e.LSH),e.xp6(8),e.hij("",o.identificacion," "),e.xp6(5),e.hij("",o.telefono," ")}}const F=[{path:"",component:(()=>{class t{constructor(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-pacientes"]],decls:8,vars:1,consts:[[3,"translucent"],["color","primary","lines","none"],["defaultHref","/","text","","slot","start"]],template:function(o,a){1&o&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-item",1),e._UZ(3,"ion-back-button",2),e.TgZ(4,"ion-title"),e._uU(5," Due\xf1os de mascotas "),e.qZA()()()(),e.TgZ(6,"ion-content"),e._UZ(7,"ion-router-outlet"),e.qZA()),2&o&&e.Q6J("translucent",!0)},directives:[n.Gu,n.sr,n.Ie,n.oU,n.cs,n.wd,n.W2,n.jP],styles:[""]}),t})(),children:[{path:"listar-duenos",component:(()=>{class t{constructor(o,a){this._navController=o,this._activatedRoute=a,this.listadoDuenos=[]}ngOnInit(){this.ionViewWillEnter()}ionViewWillEnter(){this.listadoDuenos=this._activatedRoute.snapshot.data.duenos}verDetalle(o){this._navController.navigateForward(`/pacientes/detalle-dueno/${o.id}`)}crearDueno(){this._navController.navigateForward("/pacientes/crear-dueno")}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(n.SH),e.Y36(u.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-listado-duenos"]],decls:8,vars:1,consts:[["size","12",1,"button__container--centered"],["color","secondary","shape","round","mode","ios",3,"click"],["size","12","size-md","6",4,"ngFor","ngForOf"],["size","12","size-md","6"],["button","",3,"click"],["size","4"],[1,"image__profile",3,"src"],["size","8",1,"card__info--container"],["size","12"]],template:function(o,a){1&o&&(e.TgZ(0,"ion-content")(1,"ion-grid")(2,"ion-row")(3,"ion-col",0)(4,"ion-button",1),e.NdJ("click",function(){return a.crearDueno()}),e._uU(5," Agregar Due\xf1o "),e.qZA()()(),e.TgZ(6,"ion-row"),e.YNc(7,w,23,4,"ion-col",2),e.qZA()()()),2&o&&(e.xp6(7),e.Q6J("ngForOf",a.listadoDuenos))},directives:[n.W2,n.jY,n.Nd,n.wI,n.YG,g.sg,n.PM,n.Zi,n.Dq,n.FN,n.Q$],styles:[".card__info--container[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),t})(),resolve:{duenos:d}},{path:"crear-dueno",component:b},{path:"editar-dueno/:duenoId",component:b,resolve:{dueno:d}},{path:"detalle-dueno/:duenoId",component:U,resolve:{dueno:d,mascotas:N}},{path:"crear-mascota/:duenoId",component:M,resolve:{dueno:d}},{path:"editar-mascota/:duenoId/:mascotaId",component:M,resolve:{mascota:A,dueno:d},runGuardsAndResolvers:"always"},{path:"",redirectTo:"listar-duenos"}]}];let y=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.Bz.forChild(F)],u.Bz]}),t})(),P=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[n.Pc,g.ez,i.u5,y,i.u5,i.UX,T.m]]}),t})()}}]);